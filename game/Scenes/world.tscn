[gd_scene load_steps=14 format=3 uid="uid://cn2thg06k7jr"]

[ext_resource type="PackedScene" uid="uid://b8qrl2j65lmv4" path="res://Scenes/Mobs/Monster.tscn" id="1_0hdjo"]
[ext_resource type="PackedScene" uid="uid://ceewuu8rlv8t6" path="res://Scenes/Player.tscn" id="1_17p26"]
[ext_resource type="ArrayMesh" uid="uid://bgrra7u6ohi6f" path="res://Assets/Environment/arch1.obj" id="1_uev5i"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_pp058"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_ddwsj"]
sky_material = SubResource("ProceduralSkyMaterial_pp058")

[sub_resource type="Environment" id="Environment_i44pn"]
background_mode = 2
sky = SubResource("Sky_ddwsj")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_f3ih4"]
vertices = PackedVector3Array(-63.0005, 0.365323, -13.7471, -19.2505, 0.365323, -13.7471, -19.0005, 0.365323, -15.4971, -18.0005, 0.365323, -16.4971, -17.2505, 0.365323, -63.2471, -63.0005, 0.365323, -63.2471, -17.2505, 0.365323, -16.4971, -15.2505, 0.365323, -13.7471, -13.5005, 0.365323, -13.4971, -13.0005, 0.365323, -15.7471, -15.7505, 0.365323, -15.9971, -12.2505, 0.365323, -16.4971, -11.0005, 0.365323, -16.4971, -11.0005, 0.365323, -63.2471, -9.0005, 0.365323, -15.7471, -9.0005, 0.365323, -13.2471, -7.2505, 0.365323, -11.9971, 12.2495, 0.365323, -4.7471, -10.0005, 0.365323, -16.4971, 12.4995, 0.365323, -63.2471, 12.2495, 0.365323, -4.4971, 13.7495, 0.365323, -4.4971, 14.2495, 0.365323, -2.9971, 63.2495, 0.365323, -2.9971, 63.2495, 0.365323, -63.2471, -13.5005, 7.61532, -13.7471, -13.2505, 7.61532, -13.2471, -12.0005, 7.11532, -13.7471, -12.2505, 7.36532, -14.4971, -15.7505, 7.11532, -14.2471, -15.7505, 7.11532, -13.7471, -13.4172, 7.61532, -14.4138, -15.5005, 0.365323, -12.2471, -12.7505, 0.365323, -11.7471, -19.2505, 0.365323, -12.7471, -16.2505, 0.365323, -11.4971, -2.7505, 0.365323, 3.2529, -10.2505, 0.365323, -11.9971, -2.7505, 0.365323, 9.2529, -18.2505, 0.365323, -11.4971, -63.0005, 0.365323, 63.0029, -3.0005, 0.365323, 63.0029, -2.0005, 0.365323, 2.5029, 11.4995, 0.365323, -3.9971, 4.2495, 0.365323, 3.7529, 5.9995, 0.365323, 3.2529, 5.4995, 0.365323, 2.7529, 3.7495, 0.365323, 2.5029, 5.4995, 0.365323, 1.0029, 9.4995, 0.365323, 0.502899, 11.4995, 0.365323, -2.2471, 5.9995, 0.365323, 0.502899, 9.9995, 0.365323, 1.2529, 12.2495, 0.365323, -1.7471, 5.9995, 0.365323, 4.7529, 6.4995, 0.365323, 5.2529, 4.2495, 0.365323, 9.2529, 9.7495, 0.365323, 4.7529, 9.2495, 0.365323, 5.2529, 13.7495, 0.365323, -1.7471, 4.2495, 0.365323, 63.0029, 63.2495, 0.365323, 63.0029, 7.4995, 3.11532, 3.0029, 7.4995, 3.11532, 3.7529, 8.2495, 3.11532, 3.7529, 8.2495, 3.11532, 3.0029, 0.499496, 1.36532, 7.7529, 2.7495, 1.36532, 7.7529, 2.7495, 1.36532, 4.0029, -1.2505, 1.36532, 4.0029, 3.7495, 0.365323, 9.7529, 0.249496, 0.365323, 9.7529, -0.00050354, 1.36532, 8.2529, -1.2505, 0.615323, 9.5029, -1.2505, 1.36532, 8.1279, -2.5005, 0.365323, 9.7529)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(2, 0, 3), PackedInt32Array(3, 0, 4), PackedInt32Array(4, 0, 5), PackedInt32Array(4, 6, 3), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 10), PackedInt32Array(13, 12, 11), PackedInt32Array(9, 10, 11), PackedInt32Array(11, 10, 6), PackedInt32Array(11, 6, 4), PackedInt32Array(11, 4, 13), PackedInt32Array(15, 14, 16), PackedInt32Array(16, 14, 17), PackedInt32Array(18, 12, 13), PackedInt32Array(14, 18, 17), PackedInt32Array(17, 18, 13), PackedInt32Array(17, 13, 19), PackedInt32Array(21, 20, 17), PackedInt32Array(23, 22, 21), PackedInt32Array(21, 17, 23), PackedInt32Array(23, 17, 19), PackedInt32Array(23, 19, 24), PackedInt32Array(26, 25, 27), PackedInt32Array(27, 25, 28), PackedInt32Array(28, 25, 31), PackedInt32Array(31, 25, 29), PackedInt32Array(29, 25, 30), PackedInt32Array(7, 8, 32), PackedInt32Array(32, 8, 33), PackedInt32Array(0, 1, 34), PackedInt32Array(32, 33, 35), PackedInt32Array(35, 33, 36), PackedInt32Array(33, 37, 36), PackedInt32Array(39, 38, 34), PackedInt32Array(34, 38, 0), PackedInt32Array(0, 38, 41), PackedInt32Array(0, 41, 40), PackedInt32Array(35, 36, 39), PackedInt32Array(39, 36, 38), PackedInt32Array(15, 16, 37), PackedInt32Array(37, 16, 42), PackedInt32Array(37, 42, 36), PackedInt32Array(17, 20, 43), PackedInt32Array(46, 45, 44), PackedInt32Array(44, 47, 46), PackedInt32Array(46, 47, 48), PackedInt32Array(50, 49, 43), PackedInt32Array(43, 49, 51), PackedInt32Array(48, 47, 51), PackedInt32Array(51, 47, 42), PackedInt32Array(50, 53, 49), PackedInt32Array(49, 53, 52), PackedInt32Array(43, 51, 17), PackedInt32Array(17, 51, 42), PackedInt32Array(17, 42, 16), PackedInt32Array(44, 45, 54), PackedInt32Array(54, 55, 44), PackedInt32Array(44, 55, 56), PackedInt32Array(58, 57, 23), PackedInt32Array(52, 53, 59), PackedInt32Array(56, 55, 58), PackedInt32Array(52, 59, 57), PackedInt32Array(57, 59, 23), PackedInt32Array(23, 59, 22), PackedInt32Array(56, 58, 60), PackedInt32Array(60, 58, 61), PackedInt32Array(61, 58, 23), PackedInt32Array(65, 64, 62), PackedInt32Array(62, 64, 63), PackedInt32Array(67, 66, 68), PackedInt32Array(68, 66, 69), PackedInt32Array(70, 60, 71), PackedInt32Array(71, 60, 41), PackedInt32Array(69, 66, 72), PackedInt32Array(71, 73, 72), PackedInt32Array(72, 73, 74), PackedInt32Array(72, 74, 69), PackedInt32Array(41, 38, 75), PackedInt32Array(73, 71, 75), PackedInt32Array(75, 71, 41), PackedInt32Array(70, 56, 60)]
agent_radius = 0.75

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_l7f7t"]
albedo_color = Color(0.57, 0.57, 0.57, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_npd6s"]
albedo_color = Color(0.52, 0.52, 0.52, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rnd57"]
transparency = 1
albedo_color = Color(0.116, 0.58, 0.262933, 0.109804)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_c7uvs"]
albedo_color = Color(0.302809, 0.375119, 0.861337, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bgvet"]
albedo_color = Color(0.569451, 0.0200838, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_u2su6"]
albedo_color = Color(0.37, 0.37, 0.37, 1)

[node name="World" type="Node3D"]

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 87, 94, 0)
shadow_enabled = true

[node name="Environment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_i44pn")

[node name="Terrain" type="Node3D" parent="."]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Terrain"]
navigation_mesh = SubResource("NavigationMesh_f3ih4")

[node name="Walls" type="Node3D" parent="Terrain/NavigationRegion3D"]

[node name="Wall1" type="CSGBox3D" parent="Terrain/NavigationRegion3D/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, 63.7767)
use_collision = true
size = Vector3(128, 6, 0.001)

[node name="Wall2" type="CSGBox3D" parent="Terrain/NavigationRegion3D/Walls"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -64, 2.5, -0.246563)
use_collision = true
size = Vector3(128, 6, 0.001)

[node name="Wall3" type="CSGBox3D" parent="Terrain/NavigationRegion3D/Walls"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 2.5, -64.2466)
use_collision = true
size = Vector3(128, 6, 0.001)

[node name="Wall4" type="CSGBox3D" parent="Terrain/NavigationRegion3D/Walls"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 64, 2.5, -0.246563)
use_collision = true
size = Vector3(128, 6, 0.001)

[node name="Floor" type="CSGBox3D" parent="Terrain/NavigationRegion3D"]
material_override = SubResource("StandardMaterial3D_l7f7t")
use_collision = true
size = Vector3(128, 0.001, 128)

[node name="Forms" type="Node3D" parent="Terrain/NavigationRegion3D"]

[node name="CSGBox3D2" type="CSGBox3D" parent="Terrain/NavigationRegion3D/Forms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.7734, 0.467287, -3)
use_collision = true

[node name="CSGBox3D4" type="CSGBox3D" parent="Terrain/NavigationRegion3D/Forms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.723384, 0.43006, 6)
material_override = SubResource("StandardMaterial3D_npd6s")
use_collision = true
size = Vector3(5.1, 1, 5)

[node name="CSGBox3D5" type="CSGBox3D" parent="Terrain/NavigationRegion3D/Forms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.77338, 0.267287, 2)
material_override = SubResource("StandardMaterial3D_rnd57")
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="Terrain/NavigationRegion3D/Forms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.88669, 1.28364, 3.5)
material_override = SubResource("StandardMaterial3D_c7uvs")
use_collision = true
size = Vector3(2, 3, 2)

[node name="CSGBox3D6" type="CSGBox3D" parent="Terrain/NavigationRegion3D/Forms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.1468, 3.73458, 4)
material_override = SubResource("StandardMaterial3D_bgvet")
use_collision = true

[node name="CSGBox3D3" type="CSGBox3D" parent="Terrain/NavigationRegion3D/Forms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.57338, 1.36729, 2)
material_override = SubResource("StandardMaterial3D_bgvet")
use_collision = true

[node name="CSGBox3D7" type="CSGBox3D" parent="Terrain/NavigationRegion3D/Forms"]
transform = Transform3D(1, 0, 0, 0, 0.766044, -0.642788, 0, 0.642788, 0.766044, -0.58477, -1.85227, 9.43509)
use_collision = true
size = Vector3(2.48369, 3.06885, 5)

[node name="CSGBox3D8" type="CSGBox3D" parent="Terrain/NavigationRegion3D/Forms"]
transform = Transform3D(1, 0, 0, 0, 0.5, -0.866026, 0, 0.866026, 0.5, 2.57166, -1.47883, 9.31318)
use_collision = true
size = Vector3(1.4, 1, 5)

[node name="CSGMesh3D" type="CSGMesh3D" parent="Terrain/NavigationRegion3D/Forms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14, -0.6, -14)
use_collision = true
mesh = ExtResource("1_uev5i")
material = SubResource("StandardMaterial3D_u2su6")

[node name="Entities" type="Node3D" parent="."]

[node name="NPCs" type="Node3D" parent="Entities"]

[node name="Monster" parent="Entities/NPCs" instance=ExtResource("1_0hdjo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3, 11.5)
player_path = NodePath("../../Player")

[node name="Monster2" parent="Entities/NPCs" instance=ExtResource("1_0hdjo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.5, 1.3, -2.6)
player_path = NodePath("../../Player")

[node name="Monster3" parent="Entities/NPCs" instance=ExtResource("1_0hdjo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 1.3, -33.9)
player_path = NodePath("../../Player")

[node name="Player" parent="Entities" instance=ExtResource("1_17p26")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 20.6996)
